-- TradeVision 샘플 데이터 (V7 Compatible)
-- V7 마이그레이션과 호환되는 샘플 데이터

-- ============================================
-- 1. 매매 기법 (Trading Techniques) 샘플 데이터
-- ============================================

INSERT INTO trading_techniques (title, description, category, difficulty, content, view_count, bookmark_count, created_at, updated_at)
VALUES
-- 추세 추종 기법
('이동평균선 크로스 전략', '단기 이동평균선이 장기 이동평균선을 돌파할 때 매수/매도하는 기본 추세 추종 전략입니다.', 'TREND_FOLLOWING', 'BEGINNER',
'<h3>전략 개요</h3>
<p>이동평균선 크로스 전략은 가장 기본적이면서도 효과적인 추세 추종 전략입니다.</p>

<h3>매수 시그널</h3>
<ul>
<li>단기 이동평균선(5일, 20일)이 장기 이동평균선(60일, 120일)을 상향 돌파 (골든 크로스)</li>
<li>거래량 증가 확인</li>
<li>RSI가 50 이상</li>
</ul>

<h3>매도 시그널</h3>
<ul>
<li>단기 이동평균선이 장기 이동평균선을 하향 돌파 (데드 크로스)</li>
<li>목표가 도달 또는 손절가 도달</li>
</ul>

<h3>리스크 관리</h3>
<p>- 손절: 매수가 대비 -5%<br>
- 익절: 매수가 대비 +10%<br>
- 분할 매수/매도 권장</p>',
150, 45, NOW(), NOW()),

('볼린저 밴드 반등 매매', '볼린저 밴드의 하단에서 반등할 때 매수하는 변동성 기반 전략입니다.', 'TREND_FOLLOWING', 'INTERMEDIATE',
'<h3>볼린저 밴드란?</h3>
<p>주가의 변동성을 측정하여 상한선과 하한선을 설정하는 기술적 지표입니다.</p>

<h3>매수 조건</h3>
<ul>
<li>주가가 볼린저 밴드 하단 터치 후 반등</li>
<li>캔들이 양봉으로 마감</li>
<li>거래량 평균 대비 1.5배 이상</li>
<li>스토캐스틱이 과매도 구간(20 이하)에서 반등</li>
</ul>

<h3>매도 조건</h3>
<ul>
<li>볼린저 밴드 상단 도달</li>
<li>중심선(20일 이동평균선) 도달 시 절반 매도</li>
</ul>

<h3>주의사항</h3>
<p>하락 추세에서는 밴드 하단 이탈이 계속될 수 있으므로 추세 확인 필수!</p>',
230, 67, NOW(), NOW()),

('RSI 과매도/과매수 전략', 'RSI 지표를 활용한 단기 반전 매매 전략입니다.', 'REVERSAL', 'BEGINNER',
'<h3>RSI(상대강도지수)란?</h3>
<p>일정 기간 동안의 주가 상승폭과 하락폭을 비교하여 과매수/과매도를 판단하는 지표입니다.</p>

<h3>매수 시그널</h3>
<ul>
<li>RSI가 30 이하로 하락 (과매도)</li>
<li>RSI가 다시 30을 상향 돌파</li>
<li>캔들이 양봉으로 전환</li>
</ul>

<h3>매도 시그널</h3>
<ul>
<li>RSI가 70 이상 상승 (과매수)</li>
<li>RSI가 70을 하향 돌파</li>
</ul>

<h3>실전 팁</h3>
<p>- 일반적으로 14일 RSI를 사용<br>
- 강한 추세장에서는 RSI가 30/70을 벗어나도 계속 진행될 수 있음<br>
- 다른 보조지표와 함께 사용 권장 (MACD, 거래량 등)</p>',
310, 89, NOW(), NOW()),

('지지선 반등 매매', '중요 지지선에서 반등하는 타이밍을 잡는 전략입니다.', 'REVERSAL', 'BEGINNER',
'<h3>지지선이란?</h3>
<p>과거에 여러 번 하락을 멈추고 반등했던 가격대로, 매수세가 강하게 나타나는 구간입니다.</p>

<h3>지지선 찾기</h3>
<ul>
<li>과거 저점들을 수평선으로 연결</li>
<li>최소 2번 이상 반응한 가격대</li>
<li>거래량이 많았던 구간</li>
<li>심리적 가격대 (10,000원, 50,000원 등)</li>
</ul>

<h3>매수 시그널</h3>
<ul>
<li>주가가 지지선 근처 도달</li>
<li>양봉 캔들 출현 (반등 시작)</li>
<li>거래량 증가</li>
<li>보조 지표 과매도 (RSI 30 이하)</li>
</ul>',
285, 81, NOW(), NOW()),

('박스권 돌파 매매', '일정 기간 횡보하던 주가가 저항선을 돌파할 때 진입하는 전략입니다.', 'BREAKOUT', 'INTERMEDIATE',
'<h3>박스권이란?</h3>
<p>주가가 일정 범위 안에서 횡보하며 상단 저항과 하단 지지를 형성하는 구간입니다.</p>

<h3>진입 조건</h3>
<ul>
<li>최소 2주 이상 박스권 형성</li>
<li>박스 상단을 거래량 증가와 함께 돌파</li>
<li>돌파 시 전일 대비 3% 이상 갭 상승</li>
</ul>

<h3>목표가</h3>
<p>목표가 = 돌파 지점 + 박스 높이</p>',
275, 73, NOW(), NOW());

-- ============================================
-- 2. 학습 모듈 (Content Modules) - V7 구조
-- ============================================

INSERT INTO content_modules (title, title_en, description, difficulty_level, category, display_order, estimated_duration_minutes, is_required, is_active, created_at, updated_at)
VALUES
('주식 투자 기초', 'Stock Investment Basics',
'주식 시장의 기본 개념과 투자 원리를 배우는 입문 과정입니다. 주식이 무엇인지, 어떻게 거래하는지 등 기초부터 탄탄하게 배웁니다.',
'BEGINNER', 'STOCK_BASICS', 1, 60, TRUE, TRUE, NOW(), NOW()),

('기술적 분석 마스터', 'Technical Analysis Master',
'차트 분석과 각종 보조지표를 활용하는 방법을 배웁니다. 캔들차트 읽는 법부터 이동평균선, RSI 등 실전 지표까지 학습합니다.',
'INTERMEDIATE', 'TECHNICAL_ANALYSIS', 2, 90, TRUE, TRUE, NOW(), NOW()),

('리스크 관리와 투자 심리', 'Risk Management & Trading Psychology',
'손실을 최소화하고 감정을 통제하는 고급 투자 기법입니다. 손절매, 분산투자, 투자 심리 등을 다룹니다.',
'ADVANCED', 'RISK_MANAGEMENT', 3, 75, FALSE, TRUE, NOW(), NOW());

-- ============================================
-- 3. 학습 콘텐츠 (Learning Contents) - V7 구조
-- ============================================

-- 모듈 1: 주식 투자 기초
INSERT INTO learning_contents (module_id, title, title_en, summary, content_body, content_type, display_order, estimated_duration_minutes, is_free, is_active, view_count, like_count, created_at, updated_at)
VALUES
(1, '주식이란 무엇인가?', 'What is Stock?',
'주식의 정의와 특징, 투자 장점과 위험에 대해 알아봅니다.',
'# 주식의 정의

주식(株式, Stock)은 주식회사의 자본을 구성하는 단위이며, 주식을 소유한 사람을 주주라고 합니다.

## 주식의 특징

- **소유권:** 회사의 일부를 소유하게 됩니다
- **배당:** 회사의 이익을 배당금으로 받을 수 있습니다
- **의결권:** 주주총회에서 의사결정에 참여할 수 있습니다
- **시세차익:** 주가 상승 시 매도하여 이익을 얻을 수 있습니다

## 주식 투자의 장점

1. 높은 수익률 가능성
2. 인플레이션 헷지
3. 소액으로도 투자 가능
4. 유동성이 높음 (현금화가 쉬움)

## 주식 투자의 위험

원금 손실 가능성이 있으며, 시장 변동성으로 인해 단기적으로 큰 손실을 볼 수 있습니다.
따라서 충분한 학습과 준비가 필요합니다.',
'ARTICLE', 1, 15, TRUE, TRUE, 0, 0, NOW(), NOW()),

(1, '주식 시장의 구조', 'Stock Market Structure',
'주식 시장이 어떻게 구성되어 있는지 발행시장과 유통시장을 알아봅니다.',
'# 주식 시장이란?

주식 시장은 주식이 발행되고 거래되는 장소를 의미합니다.

## 1. 발행시장 (1차 시장)

기업이 처음 주식을 발행하여 자금을 조달하는 시장입니다.
- **IPO (기업공개):** 비상장 기업이 처음으로 주식을 공개
- **유상증자:** 기존 상장기업이 추가로 주식을 발행

## 2. 유통시장 (2차 시장)

이미 발행된 주식을 투자자들끼리 사고파는 시장입니다.
- **거래소 시장:** 코스피, 코스닥 등 정규 거래소
- **장외 시장:** 거래소를 거치지 않는 직접 거래

## 한국의 주요 주식시장

- **코스피 (KOSPI):** 대형주 중심 (삼성전자, 현대차 등)
- **코스닥 (KOSDAQ):** 중소형/IT 기업 중심
- **코넥스 (KONEX):** 초기 벤처기업 시장',
'ARTICLE', 2, 20, TRUE, TRUE, 0, 0, NOW(), NOW()),

(1, '주식 거래 방법', 'How to Trade Stocks',
'주식 계좌 개설부터 실제 매수/매도까지 거래 방법을 배웁니다.',
'# 주식 계좌 개설

주식 투자를 시작하려면 먼저 증권사에 계좌를 개설해야 합니다.

## 계좌 개설 절차

1. 증권사 선택 (수수료, HTS/MTS 품질 비교)
2. 비대면 계좌 개설 (모바일 앱 이용)
3. 본인 인증 (신분증, 계좌 인증)
4. 입금 및 거래 시작

## 주문 방법

### 1. 지정가 주문
원하는 가격을 지정하여 주문. 체결이 안 될 수 있음.

### 2. 시장가 주문
현재 시장 가격으로 즉시 체결. 가격 변동 위험.

### 3. 조건부 지정가
시장가로 주문하되, 범위 내에서만 체결.',
'ARTICLE', 3, 25, TRUE, TRUE, 0, 0, NOW(), NOW()),

-- 모듈 2: 기술적 분석 마스터
(2, '캔들차트 읽는 법', 'Reading Candlestick Charts',
'캔들차트의 기본 구조와 주요 패턴을 이해합니다.',
'# 캔들차트의 기본

캔들차트는 일정 기간의 시가, 고가, 저가, 종가를 한눈에 보여줍니다.

## 캔들의 구조

- **몸통 (실체):** 시가와 종가 사이의 영역
- **위꼬리:** 고가와 종가(또는 시가) 사이
- **아래꼬리:** 저가와 시가(또는 종가) 사이

## 양봉과 음봉

- **양봉 (빨간색):** 종가 > 시가 → 상승
- **음봉 (파란색):** 종가 < 시가 → 하락

## 주요 캔들 패턴

### 망치형 (Hammer)
긴 아래꼬리 + 짧은 몸통 → 바닥 신호, 반등 가능성

### 도지 (Doji)
시가와 종가가 거의 같음 → 추세 전환 가능성',
'ARTICLE', 1, 30, TRUE, TRUE, 0, 0, NOW(), NOW()),

(2, '이동평균선의 이해', 'Understanding Moving Averages',
'이동평균선의 개념과 활용 방법을 배웁니다.',
'# 이동평균선 (Moving Average)

일정 기간 동안의 주가 평균을 선으로 연결한 지표입니다.

## 주요 이동평균선

- **단기:** 5일, 10일, 20일
- **중기:** 60일, 120일
- **장기:** 200일, 240일

## 골든 크로스 vs 데드 크로스

### 골든 크로스
단기 이평선이 장기 이평선을 상향 돌파 → 매수 신호

### 데드 크로스
단기 이평선이 장기 이평선을 하향 돌파 → 매도 신호

## 정배열과 역배열

**정배열:** 주가 > 단기선 > 중기선 > 장기선 → 상승 추세
**역배열:** 주가 < 단기선 < 중기선 < 장기선 → 하락 추세',
'ARTICLE', 2, 35, TRUE, TRUE, 0, 0, NOW(), NOW()),

-- 모듈 3: 리스크 관리와 투자 심리
(3, '손절매의 기술', 'The Art of Stop-Loss',
'손절매의 중요성과 올바른 손절 방법을 배웁니다.',
'# 손절매란?

손절매는 손실이 더 커지기 전에 보유 주식을 매도하여 손실을 확정하는 것입니다.

## 손절매가 중요한 이유

- 큰 손실 방지
- 감정적 매매 방지
- 자금 회전율 향상
- 투자 원금 보호

## 손절 기준 설정

### 1. 비율 기준
매수가 대비 -5%, -7%, -10% 등

### 2. 기술적 기준
지지선 이탈, 이동평균선 이탈 등

### 3. 시간 기준
일정 기간 내 목표가 미달성 시

## 올바른 손절 방법

1. 매수 전에 손절가를 미리 정한다
2. 손절가 도달 시 망설이지 않고 실행
3. 손절 후 감정적 복수 매매 금지
4. 손절은 실패가 아닌 리스크 관리',
'ARTICLE', 1, 25, TRUE, TRUE, 0, 0, NOW(), NOW()),

(3, '분산 투자의 원칙', 'Principles of Diversification',
'분산 투자의 중요성과 올바른 포트폴리오 구성 방법을 배웁니다.',
'# 분산 투자란?

여러 종목에 투자하여 리스크를 줄이는 전략입니다.

## 분산 투자의 효과

- 개별 종목 리스크 감소
- 시장 변동성 완충
- 안정적인 수익률 추구

## 분산 투자 방법

### 1. 종목 분산
3~10개 종목에 분산

### 2. 업종 분산
IT, 금융, 제조, 바이오 등

### 3. 자산 분산
주식, 채권, 부동산, 현금 등

### 4. 시간 분산
매월 일정 금액 투자 (적립식)

## 적정 분산 수준

- 초보: 5종목 이내
- 중급: 5~10종목
- 고급: 10~15종목',
'ARTICLE', 2, 30, TRUE, TRUE, 0, 0, NOW(), NOW());

-- 완료 메시지
SELECT '✅ V7 호환 샘플 데이터가 성공적으로 삽입되었습니다!' as message;
SELECT COUNT(*) as '매매 기법 수' FROM trading_techniques;
SELECT COUNT(*) as '학습 모듈 수' FROM content_modules;
SELECT COUNT(*) as '학습 콘텐츠 수' FROM learning_contents;
